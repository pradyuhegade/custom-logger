# C++ Custom Async Logger
A lightweight, high-performance, thread-safe **asynchronous logger** built in modern C++.  
Designed to be **plug-and-play** in any C++ project with minimal integration effort.

---

## ðŸš€ Features
- Asynchronous logging (producer-consumer model)
- Encoded log format (compact, numeric)
- Predefined log levels and log codes using enums
- Thread-safe via internal queue + mutex
- Built-in Python decoder to convert logs into human-readable format
- Minimal overhead in performance-sensitive applications

---

## Directory Structure
```bash
    cpp-custom-logger/
    â”œâ”€â”€ include/                  # Public header files (for integration)
    â”‚   â”œâ”€â”€ logger.h              # Logger class (singleton + API)
    â”‚   â”œâ”€â”€ log_level.h           # Enum for log levels (TRACE, DEBUG, etc.)
    â”‚   â”œâ”€â”€ log_code.h            # Enum for log message types (DB_FAIL, LOGIN, etc.)
    â”‚   â””â”€â”€ log_message.h         # Struct to represent a single log entry
    â”‚
    â”œâ”€â”€ src/                      # Logger implementation
    â”‚   â””â”€â”€ logger.cpp            # Logger class implementation (queue + worker thread)
    â”‚
    â”œâ”€â”€ examples/                 # Sample usage of the logger
    â”‚   â””â”€â”€ main.cpp              # Demonstrates multi-threaded logging
    â”‚
    â”œâ”€â”€ logs/                     # Runtime logs (created on execution)
    â”‚   â”œâ”€â”€ app_encoded.log       # Output log in encoded format (written by logger)
    â”‚   â””â”€â”€ decoded_app_log.txt   # Human-readable log output (generated by decoder)
    â”‚
    â”œâ”€â”€ tools/                    # Decoder tool (Python)
    â”‚   â”œâ”€â”€ decode_log.py         # Parses encoded logs and generates readable output
    â”‚   â””â”€â”€ log_mappings.json     # Auto-generated mapping of levels & codes
    â”‚
    â”œâ”€â”€ CMakeLists.txt            # CMake build configuration
    â”œâ”€â”€ README.md                 # This file ðŸ˜Š
    â””â”€â”€ LICENSE                   # Project license
```

---

## How to Build
For Powershell
```bash
- mkdir build (if not present) && cd build
- cmake -G Ninja -DCMAKE_INSTALL_PREFIX="/install" ..
- $env:DESTDIR = "../dist"
- ninja install
```

For Linux/macOS shell (bash)
```bash
- mkdir build (if not present) && cd build
- cmake -G Ninja -DCMAKE_INSTALL_PREFIX="install" ..
- DESTDIR=../dist ninja install  
```

### This should give you:
```bash
    dist/install/
    â”œâ”€â”€ include/
    â”‚   â””â”€â”€ logger.h
    â”‚   â””â”€â”€ ...
    â”œâ”€â”€ lib/
    â”‚   â””â”€â”€ liblogger.a
    â”‚   â””â”€â”€ cmake/logger/
```

---

## How to Use Logger in your Application

### ðŸ“¦ Option 1: Manual `.zip` Download (GitHub Release)
- Visit the [Releases Page](https://github.com/pradyuhegade/custom-logger/releases)
- Download `cpp-custom-logger-release.zip` from the version you want (e.g., `v0.1.0`)
- Extract it to your project under root/external. It should give you:

```bash
        your-project/
        â”œâ”€â”€ external/
        â”‚   â””â”€â”€ install/
        â”‚       â””â”€â”€ logger/
        â”‚           â”œâ”€â”€ include/
        â”‚           â””â”€â”€ lib/
        â”‚               â””â”€â”€ cmake/logger/
```

### ðŸ¤– Option 2: Script-Based Integration (Recommended)
Use the provided Python script to download and install the logger:

#### Step 1: Add this script to your project root as `get_logger_release.py`
```bash
    python get_logger_release.py v0.1.0
```

It will:
- Download the release zip from GitHub
- Extract it to external/logger/
- Clean up automatically

### Example changes in CMAKE
```bash
# Add this before your target
set(CMAKE_PREFIX_PATH "${CMAKE_SOURCE_DIR}/external/logger/install")

find_package(logger REQUIRED)

# Add your headers (where log_level.h and log_code.h are defined)
# Example/default log_level.h and log_code.h are given in logger/install/include
include_directories(${CMAKE_SOURCE_DIR}/include)

# Link logger to your target
add_executable(my_app main.cpp)
target_link_libraries(my_app PRIVATE logger::logger)
```

### Example use in main.cpp / *.cpp
```bash
#include "logger.h"
#include "log_level.h"
#include "log_code.h"

int main() {
    Logger::getInstance().start("logs/my_log.log"); #initialise the logger always at the start of program

    Logger::getInstance().log(LogLevel::INFO, LogCode::APP_STARTED, {});  #example log
    Logger::getInstance().log(LogLevel::ERROR, LogCode::FILE_MISSING, {404}); #example log

    Logger::getInstance().stop(); #stop the logger
    return 0;
}
```
Check https://github.com/pradyuhegade/learn-programming for example integration.